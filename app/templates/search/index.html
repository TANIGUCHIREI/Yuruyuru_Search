{% extends 'base.html' %}

{% block header %}
  <div>
    <!-- {% block title %}検索トップ{% endblock %} -->
  </div>
{% endblock %}

{% block content %}

<div class="chara_and_random_work">
  <p><img src="{{ url_for('static', filename='images/pip.png') }}" alt="" id="pip"></p>
  <div class="random_work">
    <a href="{{ random_work['url'] }}">
      {{ random_work['title'] }}
    </a>
    <a href="{{ random_work['url'] }}">
      <img src="{{ random_work['img_url'] }}" alt="">
    </a>
  </div>
  <p><img src="{{ url_for('static', filename='images/mmu-n.png') }}" alt="" id="mmu-n"></p>
  
</div>
  
  <br>
  <form method="post" action="/search" id="searchForm">
    <h1 style="text-align: center;">作品を検索する</h1>
    <p style="text-align: center;">使い方は<a href="/aboutsite">こちら</a></p>
    
    <hr>
    <br>
    <div class="checkbox-container">
      
      <div class="select-year-container" style="display: flex; text-align: center;">
        <select name="start_year">
            {%for year in range(start_year, end_year)%}
            <option value="{{year}}">{{year}}</option>
            {%endfor%}
        </select>
        <span>年から</span>
        <select name="end_year">
            {%for year in range(end_year, start_year-1, -1)%}
            <option value="{{year}}">{{year}}</option>
            {%endfor%}
        </select>
        <span>年までの</span>

        <input type="hidden" id="start_year" name="start_year">
        <input type="hidden" id="end_year" name="end_year">

    </div>
      <div class="media-type-checkbox">
        <div>
          <input type="checkbox" id="manga" name="manga" checked>
          <label for="toggleSliders">漫画</label>
          <input type="checkbox" id="anime" name="anime" checked>
          <label for="toggleSliders">アニメ</label>
          
          <input type="checkbox" id="novel" name="novel" checked>
          <label for="toggleSliders">小説</label>
          
        </div>

      </div>

      <input type="checkbox" id="searchall" name="searchall" hidden checked>

      <!-- <label for="toggleSliders">検索の割合を指定</label>
      <input type="checkbox" id="toggleSliders"> -->

      <input type="checkbox" id="story_age_checkbox" hidden>
    </div>

    

    <!-- <div class="slider_container">
      <label for="overview_rate"><span class="range_bar">概要</span></label>
      <input type="range" id="overview_rate" name="overview_rate" min="0" max="100" disabled>
      <label for="story_rate"><span class="range_bar">ストーリー</span></label>
      <input type="range" id="story_rate" name="story_rate" min="0" max="100" disabled>
      <label for="character_rate"><span class="range_bar">キャラクター</span></label>
      <input type="range" id="character_rate" name="character_rate" min="0" max="100" disabled>
    </div> -->

    <div class="range-wrapper">
      <div id="range"></div>
    </div>

    <!-- フォーム内に隠しフィールドを追加 -->
    <input type="hidden" id="liData" name="liData">
    <div class="autoComplete_container" >
      <br>
      <br>
      <div style="text-align: center;"><label  >関連カテゴリを探して追加</label></div>
      <input type="radio" name="AndOR" value="AND" />AND
      <input type="radio" name="AndOR" value="OR" checked/>OR
      <input type="text" id="autoComplete">
          <ul id="list-container"></ul>

    </div>

    <br>
    <div style="text-align: center;"><label  >単語または文章で検索</label></div>
    <textarea id="inputText" name="inputText" rows="4" placeholder="気になる単語や文章をここに入力してください。ゆる〜く検索します。" required></textarea>
    <!-- <input type="type" id="inputText" name="inputText" placeholder="検索したい質問の要素を入力してください" required> -->

    <input type="submit" value="検索">

    <div id="loadingIndicator" style="display: none;">
      Loading...
    </div>
  </form>
  
{% endblock %}